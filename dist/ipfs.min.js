var ipfs={};ipfs.currentProvider={host:null,port:null};ipfs.defaultProvider={host:"localhost",port:"5001"};ipfs.setProvider=function(e){if(!e)e=this.defaultProvider;if(typeof e==="object"&&!e.hasOwnProperty("host")){return}ipfs.currentProvider=e};ipfs.api_url=function(e){return"http://"+ipfs.currentProvider.host+":"+ipfs.currentProvider.port+"/api/v0"+e};ipfs.add=function(e,t){var i=new XMLHttpRequest;i.enctype="multipart/form-data";i.addEventListener("load",function(){if(i.status!=200)t(i.responseText,null);else{var e=JSON.parse(i.responseText);t(null,e["Hash"])}});var n=new FormData;n.append("file",new Blob([e],{}));i.open("POST",ipfs.api_url("/add"));i.setRequestHeader("accept","application/json");i.send(n)};ipfs.catText=function(e,t){var i=new XMLHttpRequest;i.addEventListener("load",function(){if(i.status!=200)t(i.responseText,null);else t(null,i.responseText)});i.open("GET",ipfs.api_url("/cat/"+e));i.send()};ipfs.cat=ipfs.catText;ipfs.addJson=function(e,t){var i=JSON.stringify(e);ipfs.add(i,t)};ipfs.catJson=function(e,t){ipfs.catText(e,function(e,i){if(e)t(e,{});var n={};try{n=typeof i==="string"?JSON.parse(i):i}catch(s){e=s}t(e,n)})};if(window!=="undefined"){window.ipfs=ipfs}if(typeof module!=="undefined"&&module.exports){module.exports=ipfs}
